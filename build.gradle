group = "org.release.test"

buildscript {
    repositories {
        mavenCentral()
        gradlePluginPortal()
    }
    dependencies {
        classpath "com.dipien:semantic-version-gradle-plugin:2.0.0"
        classpath "net.researchgate:gradle-release:3.0.2"

    }
}

apply plugin: "com.dipien.semantic-version"
apply plugin: "net.researchgate.release"

tasks.register("getReleaseVersion", {
    doLast {
        def releaseVersion = "${version}".substring(0, "${version}".lastIndexOf('.'))
        print(releaseVersion)
    }
})

release {
    git {
        requireBranch.set("master")
    }
}