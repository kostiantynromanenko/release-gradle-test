group "org.release.test"

buildscript {
    repositories {
        mavenCentral()
        gradlePluginPortal()
    }
    dependencies {
        classpath "net.researchgate:gradle-release:3.0.2"
    }
}

apply plugin: "net.researchgate.release"

def devVersionSuffix = "-SNAPSHOT";

release {
    def releaseVersion = version.replace(devVersionSuffix, "")
    beforeReleaseBuild {
        "git branch release/${releaseVersion}".execute()
    }
    git {
        snapshotSuffix.set(devVersionSuffix)
        requireBranch.set("master")
        pushReleaseVersionBranch = "release/${releaseVersion}"
    }
}